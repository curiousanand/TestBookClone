# =============================================================================
# TESTBOOK CLONE - ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env.local and fill in your actual values
# Never commit .env.local to version control
# =============================================================================

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
NODE_ENV=development
APP_URL=http://localhost:3000
APP_NAME="TestBook Clone"
APP_VERSION=1.0.0

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# PostgreSQL - Main database for users, courses, progress, subscriptions
DATABASE_URL=postgresql://username:password@localhost:5432/testbook_clone
DATABASE_POOL_SIZE=10

# MongoDB - Content storage for questions, materials, media
MONGODB_URL=mongodb://localhost:27017/testbook_clone
MONGODB_DB_NAME=testbook_clone

# Redis - Caching and session storage
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# -----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# -----------------------------------------------------------------------------
# NextAuth.js configuration
NEXTAUTH_SECRET=your-super-secret-key-min-32-chars
NEXTAUTH_URL=http://localhost:3000

# JWT Configuration
JWT_SECRET=your-jwt-secret-key-min-32-chars
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_EXPIRES_IN=30d

# Session configuration
SESSION_TIMEOUT=24h
COOKIE_SECURE=false
COOKIE_SAME_SITE=lax

# -----------------------------------------------------------------------------
# OAUTH PROVIDERS
# -----------------------------------------------------------------------------
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# Facebook OAuth
FACEBOOK_CLIENT_ID=your-facebook-client-id
FACEBOOK_CLIENT_SECRET=your-facebook-client-secret

# GitHub OAuth (optional)
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# -----------------------------------------------------------------------------
# PAYMENT GATEWAYS
# -----------------------------------------------------------------------------
# Razorpay (Primary for Indian users)
RAZORPAY_KEY_ID=your-razorpay-key-id
RAZORPAY_KEY_SECRET=your-razorpay-secret-key
RAZORPAY_WEBHOOK_SECRET=your-razorpay-webhook-secret

# Stripe (International payments)
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# PayPal (Alternative payment method)
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_WEBHOOK_ID=your-paypal-webhook-id

# -----------------------------------------------------------------------------
# CLOUD STORAGE (AWS S3)
# -----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=ap-south-1
AWS_S3_BUCKET=testbook-clone-storage
AWS_CLOUDFRONT_DOMAIN=d1234567890.cloudfront.net

# -----------------------------------------------------------------------------
# EMAIL SERVICES
# -----------------------------------------------------------------------------
# SendGrid (Primary)
SENDGRID_API_KEY=SG.your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@testbookclone.com
SENDGRID_FROM_NAME="TestBook Clone"

# SMTP (Backup email service)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-email-password
SMTP_SECURE=false

# -----------------------------------------------------------------------------
# SMS SERVICES
# -----------------------------------------------------------------------------
# Twilio (Primary SMS provider)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# AWS SNS (Alternative SMS)
AWS_SNS_ACCESS_KEY_ID=your-sns-access-key
AWS_SNS_SECRET_ACCESS_KEY=your-sns-secret-key
AWS_SNS_REGION=ap-south-1

# -----------------------------------------------------------------------------
# LIVE STREAMING & VIDEO
# -----------------------------------------------------------------------------
# Agora (Live classes and video calls)
AGORA_APP_ID=your-agora-app-id
AGORA_APP_CERTIFICATE=your-agora-app-certificate

# AWS MediaConvert (Video processing)
AWS_MEDIACONVERT_ENDPOINT=https://your-mediaconvert-endpoint
AWS_MEDIACONVERT_ROLE_ARN=arn:aws:iam::account:role/MediaConvertRole

# Vimeo (Video hosting alternative)
VIMEO_CLIENT_ID=your-vimeo-client-id
VIMEO_CLIENT_SECRET=your-vimeo-client-secret
VIMEO_ACCESS_TOKEN=your-vimeo-access-token

# -----------------------------------------------------------------------------
# AI & MACHINE LEARNING SERVICES
# -----------------------------------------------------------------------------
# OpenAI (Samadhan AI - Doubt resolution)
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000

# OpenAI Assistant for doubt resolution
OPENAI_ASSISTANT_ID=asst_your-assistant-id

# Google AI (Alternative)
GOOGLE_AI_API_KEY=your-google-ai-api-key

# -----------------------------------------------------------------------------
# SEARCH SERVICES
# -----------------------------------------------------------------------------
# Elasticsearch (Advanced search)
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your-elastic-password

# Algolia (Alternative search service)
ALGOLIA_APP_ID=your-algolia-app-id
ALGOLIA_API_KEY=your-algolia-api-key
ALGOLIA_SEARCH_KEY=your-algolia-search-key

# -----------------------------------------------------------------------------
# ANALYTICS & MONITORING
# -----------------------------------------------------------------------------
# Google Analytics
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# Mixpanel (User analytics)
MIXPANEL_PROJECT_TOKEN=your-mixpanel-token

# Sentry (Error tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# LogRocket (Session replay)
LOGROCKET_APP_ID=your-logrocket-app-id

# -----------------------------------------------------------------------------
# PUSH NOTIFICATIONS
# -----------------------------------------------------------------------------
# Firebase (Push notifications)
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=your-firebase-client-email
FIREBASE_SERVER_KEY=your-firebase-server-key

# OneSignal (Alternative push notifications)
ONESIGNAL_APP_ID=your-onesignal-app-id
ONESIGNAL_REST_API_KEY=your-onesignal-rest-key

# -----------------------------------------------------------------------------
# THIRD-PARTY INTEGRATIONS
# -----------------------------------------------------------------------------
# Zoom (Video conferencing integration)
ZOOM_CLIENT_ID=your-zoom-client-id
ZOOM_CLIENT_SECRET=your-zoom-client-secret

# Calendar integrations
GOOGLE_CALENDAR_API_KEY=your-google-calendar-key
OUTLOOK_CLIENT_ID=your-outlook-client-id
OUTLOOK_CLIENT_SECRET=your-outlook-client-secret

# Social media integrations
TWITTER_API_KEY=your-twitter-api-key
LINKEDIN_CLIENT_ID=your-linkedin-client-id
YOUTUBE_API_KEY=your-youtube-api-key

# -----------------------------------------------------------------------------
# CONTENT DELIVERY NETWORK
# -----------------------------------------------------------------------------
CDN_URL=https://cdn.testbookclone.com
CDN_API_KEY=your-cdn-api-key

# -----------------------------------------------------------------------------
# RATE LIMITING & SECURITY
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,https://testbookclone.com
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
FEATURE_AI_DOUBT_RESOLUTION=true
FEATURE_LIVE_CLASSES=true
FEATURE_SOCIAL_LOGIN=true
FEATURE_PAYMENT_INTEGRATION=true
FEATURE_MOBILE_APP=false
FEATURE_BETA_FEATURES=false

# -----------------------------------------------------------------------------
# DEVELOPMENT & DEBUGGING
# -----------------------------------------------------------------------------
DEBUG=false
LOG_LEVEL=info
ENABLE_QUERY_LOGGING=false
ENABLE_PERFORMANCE_MONITORING=true

# Database debugging
DATABASE_LOGGING=false
DATABASE_SLOW_QUERY_THRESHOLD=1000

# -----------------------------------------------------------------------------
# BACKUP & MAINTENANCE
# -----------------------------------------------------------------------------
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System maintenance in progress"

# -----------------------------------------------------------------------------
# LOCALIZATION
# -----------------------------------------------------------------------------
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,hi,ta,te,bn,gu,mr,kn
DEFAULT_TIMEZONE=Asia/Kolkata
DEFAULT_CURRENCY=INR

# -----------------------------------------------------------------------------
# PERFORMANCE & CACHING
# -----------------------------------------------------------------------------
CACHE_TTL=3600
CDN_CACHE_TTL=86400
API_RATE_LIMIT=1000
MAX_FILE_UPLOAD_SIZE=50MB
MAX_VIDEO_UPLOAD_SIZE=1GB

# -----------------------------------------------------------------------------
# WEBHOOK ENDPOINTS
# -----------------------------------------------------------------------------
WEBHOOK_PAYMENT_SUCCESS=/api/webhooks/payment/success
WEBHOOK_PAYMENT_FAILURE=/api/webhooks/payment/failure
WEBHOOK_USER_SIGNUP=/api/webhooks/user/signup
WEBHOOK_COURSE_COMPLETION=/api/webhooks/course/completion

# =============================================================================
# END OF CONFIGURATION
# =============================================================================